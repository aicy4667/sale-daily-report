<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥­å‹™æ—¥å ±è¡¨</title>

    <!-- 1. å¼•å…¥ Tailwind CSS (æ¨£å¼) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- 3. å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 4. å¼•å…¥ html2pdf.js (æ–°å¢ï¼šç”¨æ–¼ PDF ä¸‹è¼‰) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <!-- è‡ªå®šç¾©åˆ—å°æ¨£å¼ -->
    <style>
        @media print {
            @page { margin: 10mm; size: A4; }
            body { background: white; -webkit-print-color-adjust: exact; }
            .print\:hidden { display: none !important; }
            .print\:shadow-none { box-shadow: none !important; }
            .print\:border-none { border: none !important; }
            input, textarea { border: none !important; resize: none !important; background: transparent !important; }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <!-- æ‚¨çš„ React ç¨‹å¼ç¢¼ -->
    <script type="text/babel">
        const { useState, useRef } = React;

        // --- å…§å»ºåœ–æ¨™çµ„ä»¶ ---
        const IconBase = ({ children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>{children}</svg>
        );

        const FileText = (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconBase>;
        const Plus = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="M12 5v14"/></IconBase>;
        const Trash2 = (props) => <IconBase {...props}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></IconBase>;
        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconBase>;
        const FileDown = (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M12 18v-6"/><path d="m9 15 3 3 3-3"/></IconBase>;
        const Download = (props) => <IconBase {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></IconBase>;

        // --------------------------------------------------------

        const App = () => {
            const [reportDate, setReportDate] = useState(new Date().toISOString().split('T')[0]);
            const [salesName, setSalesName] = useState('');
            const [department, setDepartment] = useState('');
            const [statusMessage, setStatusMessage] = useState('');
            const [visits, setVisits] = useState([
                { id: 1, storeName: '', contactPerson: '', content: '', nextStep: '', result: '' }
            ]);
            const [noteToSupervisor, setNoteToSupervisor] = useState('');

            const addVisit = () => {
                const newId = visits.length > 0 ? Math.max(...visits.map(v => v.id)) + 1 : 1;
                setVisits([...visits, { id: newId, storeName: '', contactPerson: '', content: '', nextStep: '', result: '' }]);
            };

            const removeVisit = (id) => {
                if (visits.length > 1) {
                    setVisits(visits.filter(v => v.id !== id));
                }
            };

            const updateVisit = (id, field, value) => {
                setVisits(visits.map(v => v.id === id ? { ...v, [field]: value } : v));
            };

            // --- å…±ç”¨ï¼šç”Ÿæˆä¹¾æ·¨çš„å ±è¡¨ HTML å…§å®¹ (ç”¨æ–¼ HTML åŒ¯å‡ºèˆ‡ PDF ä¸‹è¼‰) ---
            const generateReportContent = () => {
                const visitsHTML = visits.map(v => `
                    <div style="border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1.25rem; margin-bottom: 1.5rem; break-inside: avoid;">
                        <div style="display: grid; grid-template-columns: repeat(12, minmax(0, 1fr)); gap: 1rem;">
                            <div style="grid-column: span 8 / span 8;">
                                <div style="font-size: 0.75rem; font-weight: 700; color: #6b7280; margin-bottom: 0.25rem;">åº—å®¶åç¨± / å®¢æˆ¶</div>
                                <div style="font-size: 1.125rem; font-weight: 700; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.25rem;">${v.storeName || '&nbsp;'}</div>
                            </div>
                            <div style="grid-column: span 4 / span 4;">
                                <div style="font-size: 0.75rem; font-weight: 700; color: #6b7280; margin-bottom: 0.25rem;">å°æ¥äººå“¡</div>
                                <div style="font-size: 1rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.25rem;">${v.contactPerson || '&nbsp;'}</div>
                            </div>
                            <div style="grid-column: span 12 / span 12; margin-top: 0.5rem;">
                                <div style="font-size: 0.75rem; font-weight: 700; color: #6b7280; margin-bottom: 0.25rem;">æ‹œè¨ªå…§å®¹</div>
                                <div style="font-size: 0.875rem; line-height: 1.625; white-space: pre-wrap; background-color: #f9fafb; padding: 0.5rem; border-radius: 0.25rem;">${v.content || 'ç„¡å…§å®¹'}</div>
                            </div>
                            <div style="grid-column: span 8 / span 8; margin-top: 0.25rem;">
                                <div style="font-size: 0.75rem; font-weight: 700; color: #2563eb; margin-bottom: 0.25rem;">å¾ŒçºŒè·Ÿé€² (Next Steps)</div>
                                <div style="font-size: 0.875rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.25rem;">${v.nextStep || '&nbsp;'}</div>
                            </div>
                            <div style="grid-column: span 4 / span 4; margin-top: 0.25rem;">
                                <div style="font-size: 0.75rem; font-weight: 700; color: #16a34a; margin-bottom: 0.25rem;">æ´½è«‡çµæœ / æ¥­ç¸¾</div>
                                <div style="font-size: 0.875rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.25rem;">${v.result || '&nbsp;'}</div>
                            </div>
                        </div>
                    </div>
                `).join('');

                return `
                    <header style="display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 2px solid #1e40af; padding-bottom: 1rem; margin-bottom: 2rem;">
                        <div>
                            <div style="font-size: 1.875rem; font-weight: 700; color: #111827;">æ¥­å‹™æ‹œè¨ªæ—¥å ±è¡¨</div>
                            <div style="color: #6b7280; font-size: 0.875rem; margin-top: 0.5rem;">Daily Sales Report</div>
                        </div>
                        <div>
                            <span style="font-weight: 600; color: #4b5563;">æ—¥æœŸï¼š</span>
                            <span style="font-size: 1.125rem; font-weight: 500;">${reportDate}</span>
                        </div>
                    </header>

                    <section style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; background-color: #eff6ff; padding: 1rem; border-radius: 0.25rem; margin-bottom: 2rem; border: 1px solid #dbeafe;">
                        <div>
                            <label style="display: block; font-size: 0.75rem; font-weight: 700; color: #1e40af; text-transform: uppercase; margin-bottom: 0.25rem;">æ¥­å‹™å§“å (Sales Rep)</label>
                            <div style="font-size: 1.125rem; font-weight: 500; border-bottom: 1px solid #d1d5db; padding-bottom: 0.25rem;">${salesName || '&nbsp;'}</div>
                        </div>
                        <div>
                            <label style="display: block; font-size: 0.75rem; font-weight: 700; color: #1e40af; text-transform: uppercase; margin-bottom: 0.25rem;">éƒ¨é–€/å€åŸŸ (Department)</label>
                            <div style="font-size: 1.125rem; font-weight: 500; border-bottom: 1px solid #d1d5db; padding-bottom: 0.25rem;">${department || '&nbsp;'}</div>
                        </div>
                    </section>

                    <section>
                        <div style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; color: #1f2937;">æœ¬æ—¥æ‹œè¨ªç´€éŒ„</div>
                        ${visitsHTML}
                    </section>

                    <div style="display: grid; grid-template-columns: 1fr; gap: 2rem; margin-top: 2rem; page-break-inside: avoid;">
                        <div style="border: 1px solid #d1d5db; border-radius: 0.5rem; padding: 1rem; background-color: #fefce8;">
                            <div style="font-size: 0.875rem; font-weight: 700; color: #374151; margin-bottom: 0.5rem;">æ¥­å‹™å‚™è¨» / éœ€ä¸»ç®¡å”åŠ©äº‹é …</div>
                            <div style="font-size: 0.875rem; white-space: pre-wrap;">${noteToSupervisor || 'ç„¡'}</div>
                        </div>

                        <div style="border: 2px solid #1f2937; border-radius: 0.5rem; overflow: hidden;">
                            <div style="background-color: #1f2937; color: white; padding: 0.5rem 1rem; font-size: 0.875rem; font-weight: 700; display: flex; justify-content: space-between;">
                                <span>ä¸»ç®¡æºé€š / æ‰¹ç¤ºæ¬„</span>
                                <span style="font-weight: 400; color: #d1d5db; font-size: 0.75rem;">è«‹ä¸»ç®¡æ–¼æ­¤è™•ç°½æ ¸</span>
                            </div>
                            <div style="height: 8rem; padding: 1rem; position: relative; background: white;">
                                <div style="position: absolute; bottom: 1rem; right: 1rem; width: 12rem; border-bottom: 1px solid #9ca3af; text-align: right; font-size: 0.75rem; color: #9ca3af; padding-bottom: 0.25rem;">ä¸»ç®¡ç°½ç« </div>
                            </div>
                        </div>
                    </div>
                    
                    <footer style="margin-top: 2rem; text-align: center; font-size: 0.75rem; color: #9ca3af;">
                        è¡¨å–®ç”Ÿæˆæ™‚é–“ï¼š${new Date().toLocaleString('zh-TW')}
                    </footer>
                `;
            };

            // --- åŠŸèƒ½ 1ï¼šç”Ÿæˆä¸¦ä¸‹è¼‰ HTML ---
            const handleExportHTML = () => {
                setStatusMessage('æ­£åœ¨ç”Ÿæˆ HTML æª”æ¡ˆ...');
                const content = generateReportContent();
                const fullHTML = `
                <!DOCTYPE html>
                <html lang="zh-TW">
                <head>
                    <meta charset="UTF-8">
                    <title>æ¥­å‹™æ—¥å ±è¡¨_${reportDate}</title>
                    <style>
                        body { font-family: system-ui, -apple-system, sans-serif; color: #1f2937; padding: 40px; max-width: 900px; margin: 0 auto; }
                        @media print { body { padding: 0; } }
                    </style>
                </head>
                <body>
                    <div style="background-color: #fef3c7; border: 1px solid #f59e0b; color: #92400e; padding: 10px; text-align: center; margin-bottom: 20px; border-radius: 6px; font-weight: bold;" class="no-print">
                        ğŸ’¡ æç¤ºï¼šè«‹æŒ‰ Ctrl+P (æˆ– Cmd+P) åˆ—å°æ­¤é é¢æˆ–å¦å­˜ç‚º PDF
                        <style>@media print { .no-print { display: none; } }</style>
                    </div>
                    ${content}
                </body>
                </html>`;

                const blob = new Blob([fullHTML], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `æ¥­å‹™æ—¥å ±_${salesName}_${reportDate}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                setStatusMessage('HTML ä¸‹è¼‰æˆåŠŸï¼');
                setTimeout(() => setStatusMessage(''), 3000);
            };

            // --- åŠŸèƒ½ 2ï¼šç›´æ¥ä¸‹è¼‰ PDF ---
            const handleDownloadPDF = () => {
                if (typeof html2pdf === 'undefined') {
                    setStatusMessage('éŒ¯èª¤ï¼šPDF æ¨¡çµ„æœªè¼‰å…¥ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·š');
                    return;
                }
                
                setStatusMessage('æ­£åœ¨è½‰æ› PDFï¼Œè«‹ç¨å€™...');
                
                // 1. å»ºç«‹ä¸€å€‹è‡¨æ™‚å®¹å™¨ä¾†æ”¾ä¹¾æ·¨çš„ HTML å…§å®¹
                const element = document.createElement('div');
                element.innerHTML = generateReportContent();
                element.style.width = '100%';
                element.style.padding = '20px';
                element.style.background = 'white';
                element.style.fontFamily = 'system-ui, -apple-system, sans-serif';

                // 2. è¨­å®š PDF é¸é …
                const opt = {
                    margin:       10,
                    filename:     `æ¥­å‹™æ—¥å ±_${salesName}_${reportDate}.pdf`,
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { scale: 2, useCORS: true },
                    jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };

                // 3. åŸ·è¡Œè½‰æ›
                html2pdf().set(opt).from(element).save().then(() => {
                    setStatusMessage('PDF ä¸‹è¼‰å®Œæˆï¼');
                    setTimeout(() => setStatusMessage(''), 3000);
                }).catch(err => {
                    console.error(err);
                    setStatusMessage('PDF ç”Ÿæˆå¤±æ•—ï¼Œè«‹æ”¹ç”¨ã€ŒåŒ¯å‡º HTMLã€');
                });
            };

            return (
                <div className="min-h-screen bg-gray-100 p-4 md:p-8 font-sans text-gray-800">
                
                {/* æ“ä½œæ§åˆ¶åˆ— */}
                <div className="max-w-4xl mx-auto mb-6 flex flex-col sm:flex-row justify-between items-center print:hidden bg-white p-4 rounded-lg shadow-sm border border-gray-200 gap-4">
                    <div>
                        <h1 className="text-xl font-bold text-blue-800 flex items-center gap-2">
                            <FileText className="w-6 h-6" />
                            æ¥­å‹™æ—¥å ±ç”Ÿæˆå™¨
                        </h1>
                        <p className="text-sm text-gray-500 mt-1">å¡«å¯«å®Œç•¢å¾Œï¼Œè«‹é¸æ“‡ä¸‹è¼‰æ–¹å¼</p>
                    </div>
                    
                    {/* æŒ‰éˆ•å€åŸŸ */}
                    <div className="flex flex-col items-end gap-2">
                        <div className="flex gap-3">
                            {/* æŒ‰éˆ• 1: åŒ¯å‡º HTML */}
                            <button 
                                onClick={handleExportHTML}
                                className="bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg flex items-center gap-2 shadow transition-all font-bold active:scale-95 text-sm"
                                title="ä¸‹è¼‰ HTML æª”æ¡ˆä»¥ä¾¿åˆ—å°"
                            >
                                <FileDown className="w-5 h-5" />
                                åŒ¯å‡º HTML
                            </button>

                            {/* æŒ‰éˆ• 2: ä¸‹è¼‰ PDF (æ–°åŠŸèƒ½) */}
                            <button 
                                onClick={handleDownloadPDF}
                                className="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-lg flex items-center gap-2 shadow transition-all font-bold active:scale-95 text-sm"
                                title="ç›´æ¥ä¸‹è¼‰ PDF æª”æ¡ˆ"
                            >
                                <Download className="w-5 h-5" />
                                ä¸‹è¼‰ PDF
                            </button>
                        </div>
                        
                        {/* ç‹€æ…‹æç¤ºæ–‡å­— */}
                        {statusMessage && (
                            <div className="text-sm text-green-600 font-bold animate-pulse flex items-center gap-1 bg-green-50 px-2 py-1 rounded">
                            <Info className="w-4 h-4" />
                            {statusMessage}
                            </div>
                        )}
                    </div>
                </div>

                {/* é è¦½èˆ‡ç·¨è¼¯å€ (ç•«é¢é¡¯ç¤ºç”¨) */}
                <div className="max-w-4xl mx-auto bg-white shadow-lg print:shadow-none print:w-full print:max-w-none min-h-[297mm] relative p-8 md:p-12 print:p-0">
                    
                    <header className="border-b-2 border-blue-800 pb-4 mb-8">
                    <div className="flex justify-between items-end">
                        <div>
                        <h2 className="text-3xl font-bold text-gray-900 tracking-wide">æ¥­å‹™æ‹œè¨ªæ—¥å ±è¡¨</h2>
                        <p className="text-gray-500 mt-2 text-sm">Daily Sales Report</p>
                        </div>
                        <div className="text-right">
                        <div className="flex items-center gap-2 justify-end mb-1">
                            <span className="font-semibold text-gray-600">æ—¥æœŸï¼š</span>
                            <input type="date" value={reportDate} onChange={(e) => setReportDate(e.target.value)} className="border-b border-gray-300 focus:border-blue-600 outline-none text-right bg-transparent" />
                        </div>
                        </div>
                    </div>
                    </header>

                    <section className="grid grid-cols-2 gap-8 mb-8 bg-blue-50 p-4 rounded print:bg-transparent print:p-0 print:border print:border-gray-300">
                    <div className="flex flex-col">
                        <label className="text-xs font-bold text-blue-800 uppercase mb-1">æ¥­å‹™å§“å (Sales Rep)</label>
                        <input type="text" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å" value={salesName} onChange={(e) => setSalesName(e.target.value)} className="w-full bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none py-1 font-medium text-lg" />
                    </div>
                    <div className="flex flex-col">
                        <label className="text-xs font-bold text-blue-800 uppercase mb-1">éƒ¨é–€/å€åŸŸ (Department)</label>
                        <input type="text" placeholder="ä¾‹ï¼šåŒ—å€æ¥­å‹™ä¸€éƒ¨" value={department} onChange={(e) => setDepartment(e.target.value)} className="w-full bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none py-1 font-medium text-lg" />
                    </div>
                    </section>

                    <section className="mb-8">
                    <div className="flex justify-between items-center mb-4 border-b border-gray-200 pb-2">
                        <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2"><Briefcase className="w-5 h-5 text-blue-600" />æœ¬æ—¥æ‹œè¨ªç´€éŒ„</h3>
                        <button onClick={addVisit} className="text-sm bg-green-100 text-green-700 hover:bg-green-200 px-3 py-1 rounded-full flex items-center gap-1 transition-colors"><Plus className="w-4 h-4" /> æ–°å¢è¡Œç¨‹</button>
                    </div>
                    <div className="space-y-6">
                        {visits.map((visit, index) => (
                        <div key={visit.id} className="relative border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow">
                            {visits.length > 1 && (<button onClick={() => removeVisit(visit.id)} className="absolute top-4 right-4 text-gray-400 hover:text-red-500 p-1"><Trash2 className="w-5 h-5" /></button>)}
                            <div className="grid grid-cols-1 md:grid-cols-12 gap-4">
                                <div className="md:col-span-8">
                                    <div className="flex items-center gap-2 mb-1"><MapPin className="w-4 h-4 text-gray-400" /><label className="text-xs font-bold text-gray-500">åº—å®¶åç¨± / å®¢æˆ¶</label></div>
                                    <input type="text" placeholder="è¼¸å…¥å®¢æˆ¶åç¨±" value={visit.storeName} onChange={(e) => updateVisit(visit.id, 'storeName', e.target.value)} className="w-full font-bold text-lg border-b border-gray-200 focus:border-blue-500 outline-none pb-1 bg-transparent placeholder-gray-300" />
                                </div>
                                <div className="md:col-span-4">
                                    <div className="flex items-center gap-2 mb-1"><User className="w-4 h-4 text-gray-400" /><label className="text-xs font-bold text-gray-500">å°æ¥äººå“¡ & è·ç¨±</label></div>
                                    <input type="text" placeholder="ä¾‹ï¼šé™³åº—é•·" value={visit.contactPerson} onChange={(e) => updateVisit(visit.id, 'contactPerson', e.target.value)} className="w-full text-base border-b border-gray-200 focus:border-blue-500 outline-none pb-1 bg-transparent placeholder-gray-300" />
                                </div>
                                <div className="md:col-span-12 mt-2">
                                    <div className="flex items-center gap-2 mb-1"><MessageSquare className="w-4 h-4 text-gray-400" /><label className="text-xs font-bold text-gray-500">æ‹œè¨ªå…§å®¹ / æ´½è«‡é‡é»</label></div>
                                    <textarea rows={3} placeholder="è«‹è©³ç´°æè¿°ä»Šæ—¥æ´½è«‡äº‹é …..." value={visit.content} onChange={(e) => updateVisit(visit.id, 'content', e.target.value)} className="w-full text-sm leading-relaxed border border-gray-200 rounded p-2 focus:border-blue-500 outline-none resize-none bg-gray-50" />
                                </div>
                                <div className="md:col-span-8 mt-1">
                                    <label className="text-xs font-bold text-blue-600 mb-1 block">å¾ŒçºŒè·Ÿé€² / å¾…è¾¦äº‹é … (Next Steps)</label>
                                    <input type="text" placeholder="ä¾‹ï¼šä¸‹é€±ä¸‰å¯„é€å ±åƒ¹å–®" value={visit.nextStep} onChange={(e) => updateVisit(visit.id, 'nextStep', e.target.value)} className="w-full text-sm border-b border-gray-200 focus:border-blue-500 outline-none pb-1 bg-transparent" />
                                </div>
                                <div className="md:col-span-4 mt-1">
                                    <label className="text-xs font-bold text-green-600 mb-1 block">æ´½è«‡çµæœ / é ä¼°æ¥­ç¸¾</label>
                                    <input type="text" placeholder="ä¾‹ï¼šå·²ç°½ç´„ / æ½›åœ¨ $5000" value={visit.result} onChange={(e) => updateVisit(visit.id, 'result', e.target.value)} className="w-full text-sm border-b border-gray-200 focus:border-blue-500 outline-none pb-1 bg-transparent" />
                                </div>
                            </div>
                        </div>
                        ))}
                    </div>
                    </section>

                    <div className="grid grid-cols-1 gap-8 break-inside-avoid">
                        <div className="border border-gray-300 rounded-lg p-4 bg-yellow-50/50">
                            <h3 className="text-sm font-bold text-gray-700 mb-2">æ¥­å‹™å‚™è¨» / éœ€ä¸»ç®¡å”åŠ©äº‹é …</h3>
                            <textarea rows={3} placeholder="è‹¥æœ‰éœ€è¦ä¸»ç®¡å”åŠ©æˆ–ç‰¹åˆ¥èªªæ˜çš„å›°é›£ï¼Œè«‹å¡«å¯«æ–¼æ­¤..." value={noteToSupervisor} onChange={(e) => setNoteToSupervisor(e.target.value)} className="w-full bg-transparent outline-none text-sm resize-none" />
                        </div>
                        <div className="border-2 border-gray-800 rounded-lg p-0 overflow-hidden">
                            <div className="bg-gray-800 text-white px-4 py-2 text-sm font-bold flex justify-between"><span>ä¸»ç®¡æºé€š / æ‰¹ç¤ºæ¬„ (Supervisor Comments)</span><span className="font-normal text-gray-300 text-xs">è«‹ä¸»ç®¡æ–¼æ­¤è™•ç°½æ ¸èˆ‡å›é¥‹</span></div>
                            <div className="h-32 p-4 bg-white relative">
                                <div className="absolute bottom-4 right-4 w-48 border-b border-gray-400 text-right text-xs text-gray-400 pb-1">ä¸»ç®¡ç°½ç« </div>
                                <div className="w-full h-full border-b border-dashed border-gray-200"></div>
                            </div>
                        </div>
                    </div>

                    <footer className="mt-8 text-center text-xs text-gray-400"><p>è¡¨å–®ç”Ÿæˆæ™‚é–“ï¼š{new Date().toLocaleString('zh-TW')} | Â© Company Internal Use</p></footer>

                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
